function Ba(e){var a=jQuery("#loancalculatorform").find(":input").get();return"object"!=typeof e?(e={},jQuery.each(a,function(){this.name&&(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password/i.test(this.type))&&"loandata"!=this.name&&(e[this.name]=jQuery(this).val())}),e):(jQuery.each(a,function(){this.name&&e[this.name]?"checkbox"==this.type||"radio"==this.type?(jQuery(this).prop("checked",e[this.name]==jQuery(this).val()),e[this.name]==jQuery(this).val()?(jQuery(this).parent(".btn").addClass("active"),jQuery(this).parent(".btn").siblings("input[name="+this.name+"]").removeClass("active")):(jQuery(this).parent(".btn").removeClass("active"),jQuery(this).parent(".btn").siblings("input[name="+this.name+"]").addClass("active"))):jQuery(this).val(e[this.name]):"checkbox"==this.type&&jQuery(this).prop("checked",!1)}),jQuery(this))}function Ia(){jQuery(".ecalprint").click(function(){return window.print(),!1})}function Ja(){jQuery(".ecalshare").click(function(){jQuery("#loader").toggle();var e=Ba();return e=Base64.encode(unescape(encodeURIComponent(JSON.stringify(e)))),jQuery.get("https://emicalculator.net/bitly/?longURL=https://emicalculator.net/loan-calculator/?ecdata="+e,function(e){jQuery("#sharelink").val(e),jQuery("#ecalsharelink").slideDown(),jQuery("#loader").toggle()}),!1}),jQuery("#sharelink").click(function(){jQuery(this).focus().select()})}function za(e){x=e,jQuery("#loancalc").val(e),"active"!=jQuery("li#"+x).attr("class")&&jQuery("li#"+x).addClass("active").siblings().removeClass("active"),jQuery("ul.loancalculator-nav li").click(function(){return"active"!=jQuery(this).attr("class")&&(jQuery(this).addClass("active").siblings().removeClass("active"),x=jQuery(this).attr("id"),jQuery("#loancalc").val(x),Ga(),Ha(),z()),!1})}function Aa(){jQuery("#startmonthyear").attr("readonly",!0),jQuery("#startmonthyear").datepicker({format:"M yyyy",minViewMode:1,autoclose:!0}).on("changeDate",function(){jQuery(this).datepicker("getDate").toDateString()!=ca.c.toDateString()&&(ca.c=jQuery(this).datepicker("getDate"),z())}).on("hide",function(){jQuery("#startmonthyear").blur()}),ca.c=new Date,jQuery("#startmonthyear").datepicker("setDate",ca.c)}function Ca(e,a,l,t,n,r){jQuery("#loanamount").val(Globalize.format(e,"n","en-IN")),jQuery("#loaninterest").val(1e3*a/1e3),jQuery("#loancalculatorform input[name='loantenure']")[0].checked?jQuery("#loanterm").val(l/12):jQuery("#loanterm").val(l),Ka(),jQuery("#loanemi").val(Globalize.format(t,"n2","en-IN")),jQuery("#loanfees").val(Globalize.format(n,"n","en-IN")),0==r?jQuery("#emiarrears").button("toggle"):jQuery("#emiadvance").button("toggle")}function Da(){jQuery("#loanamount").blur(function(){jQuery("#loanamount").val(Globalize.format(Math.round(jQuery("#loanamount").val().replace(/[^\d\.]/g,"")),"n","en-IN"))}),jQuery("#loanemi").blur(function(){jQuery("#loanemi").val(Globalize.format(Math.round(100*jQuery("#loanemi").val().replace(/[^\d\.]/g,""))/100,"n2","en-IN"))}),jQuery("#loaninterest").blur(function(){jQuery("#loaninterest").val(Math.round(100*jQuery("#loaninterest").val().replace(/[^\d\.]/g,""))/100)}),jQuery("#loanterm").blur(function(){jQuery("#loancalculatorform input[name='loantenure']")[0].checked?jQuery("#loanterm").val(Math.round(Math.round(12*jQuery("#loanterm").val().replace(/[^\d\.]/g,""))/12*100)/100):jQuery("#loanterm").val(jQuery("#loanterm").val().replace(/[^\d\.]/g,""))}),jQuery("#loanfees").blur(function(){jQuery("#loanfees").val(Globalize.format(Math.round(jQuery("#loanfees").val().replace(/[^\d\.]/g,"")),"n","en-IN"))})}function Ea(){ia=jQuery("#loanamountslider").slider({range:"min",value:parseInt(jQuery("#loanamount").val().replace(/[^\d\.]/g,"")),min:0,max:2e7,step:1e5,slide:function(e,a){jQuery("#loanamount").val(Globalize.format(a.value,"n","en-IN"))},change:function(e){e.originalEvent&&z()}}),ia.slider("value",ia.slider("value")),la=jQuery("#loanemislider").slider({range:"min",value:parseFloat(jQuery("#loanemi").val().replace(/[^\d\.]/g,"")),min:0,max:1e5,step:500,slide:function(e,a){jQuery("#loanemi").val(Globalize.format(a.value,"n2","en-IN"))},change:function(e){e.originalEvent&&z()}}),la.slider("value",la.slider("value")),ja=jQuery("#loaninterestslider").slider({range:"min",value:parseFloat(jQuery("#loaninterest").val()),min:0,max:20,step:.25,slide:function(e,a){jQuery("#loaninterest").val(a.value)},change:function(e){e.originalEvent&&z()}}),ja.slider("value",ja.slider("value"));var e=parseInt(jQuery("#loanterm").val());jQuery("#loancalculatorform input[name='loantenure']")[1].checked&&(e=parseInt(jQuery("#loanterm").val())/12),ka=jQuery("#loantermslider").slider({range:"min",value:e,min:0,max:30,step:.5,slide:function(e,a){jQuery("#loancalculatorform input[name='loantenure']")[0].checked?jQuery("#loanterm").val(a.value):jQuery("#loanterm").val(12*a.value)},change:function(e){e.originalEvent&&z()}}),ka.slider("value",ka.slider("value")),ma=jQuery("#loanfeesslider").slider({range:"min",value:parseInt(jQuery("#loanfees").val().replace(/[^\d\.]/g,"")),min:0,max:1e5,step:500,slide:function(e,a){jQuery("#loanfees").val(Globalize.format(a.value,"n","en-IN"))},change:function(e){e.originalEvent&&z()}}),ma.slider("value",ma.slider("value"))}function Fa(){jQuery("#loanamount").change(function(){ia.slider("value",this.value.replace(/[^\d\.]/g,"")),z()}),jQuery("#loanemi").change(function(){la.slider("value",this.value.replace(/[^\d\.]/g,"")),z()}),jQuery("#loaninterest").change(function(){ja.slider("value",this.value),z()}),jQuery("#loanterm").change(function(){jQuery("#loancalculatorform input[name='loantenure']")[0].checked?ka.slider("value",this.value):ka.slider("value",this.value/12),z()}),jQuery("#loanfees").change(function(){ma.slider("value",this.value.replace(/[^\d\.]/g,"")),z()}),jQuery("#loancalculatorform input[name='loantenure']").change(function(){jQuery("#loancalculatorform input[name='loantenure']")[0].checked?jQuery("#loanterm").val(Math.round(jQuery("#loanterm").val().replace(/[^\d\.]/g,"")/12*100)/100):jQuery("#loanterm").val(Math.round(12*jQuery("#loanterm").val().replace(/[^\d\.]/g,""))),Ka()}),jQuery("#loancalculatorform input[name='emischeme']").change(function(){z()})}function Ka(){jQuery("#loancalculatorform input[name='loantenure']")[0].checked?jQuery("#loantermsteps").html('<span class="tick" style="left: 0%;">|<br/><span class="marker">0</span></span><span class="tick" style="left: 16.67%;">|<br/><span class="marker">5</span></span><span class="tick" style="left: 33.33%;">|<br/><span class="marker">10</span></span><span class="tick" style="left: 50%;">|<br/><span class="marker">15</span></span><span class="tick" style="left: 66.67%;">|<br/><span class="marker">20</span></span><span class="tick" style="left: 83.33%;">|<br/><span class="marker">25</span></span><span class="tick" style="left: 100%;">|<br/><span class="marker">30</span></span>'):jQuery("#loantermsteps").html('<span class="tick" style="left: 0%;">|<br/><span class="marker">0</span></span><span class="tick" style="left: 16.67%;">|<br/><span class="marker">60</span></span><span class="tick" style="left: 33.33%;">|<br/><span class="marker">120</span></span><span class="tick" style="left: 50%;">|<br/><span class="marker">180</span></span><span class="tick" style="left: 66.67%;">|<br/><span class="marker">240</span></span><span class="tick" style="left: 83.33%;">|<br/><span class="marker">300</span></span><span class="tick" style="left: 100%;">|<br/><span class="marker">360</span></span>')}function Ga(){"emi-calc"==x?(jQuery("#lamountwrapper").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#lemiwrapper").removeClass("toggle-visible").addClass("toggle-hidden"),jQuery("#lintwrapper").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#ltermwrapper").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#lfeeswrapper").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#leschemewrapper").removeClass("toggle-hidden").addClass("toggle-visible")):"loan-amount-calc"==x?(jQuery("#lamountwrapper").removeClass("toggle-visible").addClass("toggle-hidden"),jQuery("#lemiwrapper").removeClass("sep").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#lintwrapper").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#ltermwrapper").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#lfeeswrapper").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#leschemewrapper").removeClass("toggle-hidden").addClass("toggle-visible")):"loan-tenure-calc"==x?(jQuery("#lamountwrapper").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#lemiwrapper").addClass("sep").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#lintwrapper").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#ltermwrapper").removeClass("toggle-visible").addClass("toggle-hidden"),jQuery("#lfeeswrapper").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#leschemewrapper").removeClass("toggle-hidden").addClass("toggle-visible")):"interest-rate-calc"==x&&(jQuery("#lamountwrapper").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#lemiwrapper").addClass("sep").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#lintwrapper").removeClass("toggle-visible").addClass("toggle-hidden"),jQuery("#ltermwrapper").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#lfeeswrapper").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#leschemewrapper").removeClass("toggle-hidden").addClass("toggle-visible"))}function Ha(){"emi-calc"==x?(jQuery("#loansummary-loanamount").removeClass("toggle-visible").addClass("toggle-hidden"),jQuery("#loansummary-emi").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#loansummary-tenure").removeClass("toggle-visible").addClass("toggle-hidden"),jQuery("#loansummary-interestrate").removeClass("toggle-visible").addClass("toggle-hidden"),jQuery("#loansummary-totalinterest").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#loansummary-totalamount").removeClass("toggle-hidden").addClass("toggle-visible")):"loan-amount-calc"==x?(jQuery("#loansummary-loanamount").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#loansummary-emi").removeClass("toggle-visible").addClass("toggle-hidden"),jQuery("#loansummary-tenure").removeClass("toggle-visible").addClass("toggle-hidden"),jQuery("#loansummary-interestrate").removeClass("toggle-visible").addClass("toggle-hidden"),jQuery("#loansummary-totalinterest").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#loansummary-totalamount").removeClass("toggle-hidden").addClass("toggle-visible")):"loan-tenure-calc"==x?(jQuery("#loansummary-loanamount").removeClass("toggle-visible").addClass("toggle-hidden"),jQuery("#loansummary-emi").removeClass("toggle-visible").addClass("toggle-hidden"),jQuery("#loansummary-tenure").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#loansummary-interestrate").removeClass("toggle-visible").addClass("toggle-hidden"),jQuery("#loansummary-totalinterest").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#loansummary-totalamount").removeClass("toggle-hidden").addClass("toggle-visible")):"interest-rate-calc"==x&&(jQuery("#loansummary-loanamount").removeClass("toggle-visible").addClass("toggle-hidden"),jQuery("#loansummary-emi").removeClass("toggle-visible").addClass("toggle-hidden"),jQuery("#loansummary-tenure").removeClass("toggle-visible").addClass("toggle-hidden"),jQuery("#loansummary-interestrate").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#loansummary-totalinterest").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#loansummary-totalamount").removeClass("toggle-hidden").addClass("toggle-visible"))}function z(){jQuery("#loancalculatorform").mask("Calculating..."),setTimeout(La,10)}function La(){if(jQuery("#ecalsharelink").hide(),e=Math.abs(jQuery("#loanamount").val().replace(/[^\d\.]/g,"")),0==e&&(e=1e6,jQuery("#loanamount").val(Globalize.format(e,"n","en-IN"))),ia.slider("value",e),n=Math.abs(jQuery("#loanemi").val().replace(/[^\d\.]/g,"")),0==n&&(n=21617.95,jQuery("#loanemi").val(Globalize.format(n,"n2","en-IN"))),la.slider("value",n),f=Math.abs(jQuery("#loaninterest").val()/12/100),ja.slider("value",Math.abs(jQuery("#loaninterest").val())),h=jQuery("#loancalculatorform input[name='loantenure']")[0].checked?Math.abs(Math.round(12*jQuery("#loanterm").val())):Math.abs(Math.round(jQuery("#loanterm").val())),0==h&&(jQuery("#loancalculatorform input[name='loantenure']")[0].checked?jQuery("#loanterm").val(5):jQuery("#loanterm").val(60),h=60),ka.slider("value",h/12),q=0,jQuery("#loancalculatorform input[name='emischeme']")[0].checked&&(q=1),ba=Math.abs(jQuery("#loanfees").val().replace(/[^\d\.]/g,"")),ma.slider("value",ba),jQuery("#loanstartdate").val(jQuery("#startmonthyear").val()),jQuery("#loancalc-message").removeClass("toggle-visible").addClass("toggle-hidden"),"emi-calc"==x)Ma(),ea=e,fa=1200*f,w=h,da=Na();else if("loan-amount-calc"==x)ea=0==f?n*h:1==q?n/f*((Math.pow(1+f,h)-1)/Math.pow(1+f,h-1)):n/f*((Math.pow(1+f,h)-1)/Math.pow(1+f,h)),jQuery("#loanamount").val(Globalize.format(ea,"n","en-IN")),ia.slider("value",jQuery("#loanamount").val().replace(/[^\d\.]/g,"")),e=Math.abs(jQuery("#loanamount").val().replace(/[^\d\.]/g,"")),Ma(),v=n,fa=1200*f,w=h,da=Na();else if("loan-tenure-calc"==x)1==q&&(n<e*f/(1+f)?(jQuery("#loanemi").val(Globalize.format(.01+Math.round(e*f/(1+f)*100)/100,"n2","en-IN")),la.slider("value",jQuery("#loanemi").val().replace(/[^\d\.]/g,"")),n=Math.abs(jQuery("#loanemi").val().replace(/[^\d\.]/g,"")),jQuery("#loancalc-message span").text("EMI should be at least ৳ "+Globalize.format(n,"n2","en-IN")+" to repay the principal loan amount along with interest."),jQuery("#loancalc-message").removeClass("toggle-hidden").addClass("toggle-visible")):n>e&&(jQuery("#loanemi").val(Globalize.format(Math.round(100*e)/100,"n2","en-IN")),la.slider("value",jQuery("#loanemi").val().replace(/[^\d\.]/g,"")),n=Math.abs(jQuery("#loanemi").val().replace(/[^\d\.]/g,"")),jQuery("#loancalc-message span").text("EMI cannot exceed the loan amount of ৳ "+Globalize.format(n,"n2","en-IN")+" under the 'EMI in advance' scheme."),jQuery("#loancalc-message").removeClass("toggle-hidden").addClass("toggle-visible"))),0==q&&(n<e*f?(jQuery("#loanemi").val(Globalize.format(.01+Math.round(e*f*100)/100,"n2","en-IN")),la.slider("value",jQuery("#loanemi").val().replace(/[^\d\.]/g,"")),n=Math.abs(jQuery("#loanemi").val().replace(/[^\d\.]/g,"")),jQuery("#loancalc-message span").text("EMI should be at least ৳ "+Globalize.format(n,"n2","en-IN")+" to repay the principal loan amount along with interest."),jQuery("#loancalc-message").removeClass("toggle-hidden").addClass("toggle-visible")):n>e+e*f&&(jQuery("#loanemi").val(Globalize.format(Math.round(100*(e+e*f))/100,"n2","en-IN")),la.slider("value",jQuery("#loanemi").val().replace(/[^\d\.]/g,"")),n=Math.abs(jQuery("#loanemi").val().replace(/[^\d\.]/g,"")),jQuery("#loancalc-message span").text("EMI cannot exceed ৳ "+Globalize.format(n,"n2","en-IN")+" (i.e., loan amount plus one month's interest) under the 'EMI in arrears' scheme."),jQuery("#loancalc-message").removeClass("toggle-hidden").addClass("toggle-visible"))),0==f?w=Math.round(e/n):1==q?w=Math.round(1+Math.log(n/(n+n*f-e*f))/Math.log(1+f)):0==q&&(w=Math.round(Math.log(n/(n-e*f))/Math.log(1+f))),360<w&&(w=360,jQuery("#loancalc-message span").text("Loan Tenure shortened to 30 Years."),jQuery("#loancalc-message").removeClass("toggle-hidden").addClass("toggle-visible")),jQuery("#loancalculatorform input[name='loantenure']")[0].checked?(jQuery("#loanterm").val(Math.round(w/12*100)/100),ka.slider("value",jQuery("#loanterm").val().replace(/[^\d\.]/g,""))):(jQuery("#loanterm").val(w),ka.slider("value",jQuery("#loanterm").val().replace(/[^\d\.]/g,"")/12)),h=jQuery("#loancalculatorform input[name='loantenure']")[0].checked?Math.abs(Math.round(12*jQuery("#loanterm").val())):Math.abs(Math.round(jQuery("#loanterm").val())),Ma(),ea=e,v=n,fa=1200*f,da=Na();else if("interest-rate-calc"==x){if(1==q){var a=Math.pow(10,-5),l=.05/12;for(k=0;20>k;k++){var t=l,r=l=h;if(l=t-(e*t*Math.pow(1+t,l-1)/(Math.pow(1+t,l)-1)-n)/(Math.pow(1+t,r-2)*(Math.pow(1+t,r)-r*t-1)/Math.pow(Math.pow(1+t,r)-1,2)*e),(t=Math.abs(l-t))<a)break}a=Math.round(12e4*l)/100}else{for(a=Math.pow(10,-5),t=.05/12,k=0;20>k&&(l=t,t=l-Oa(l,e,h)/Pa(l,e,h),!((l=Math.abs(t-l))<a));k++);a=Math.round(12e4*t)/100}fa=a,0>fa&&(fa=0,jQuery("#loancalc-message span").text("EMI is ৳ "+Globalize.format(Math.round(e/h*100)/100,"n2","en-IN")+" at 0% interest rate."),jQuery("#loancalc-message").removeClass("toggle-hidden").addClass("toggle-visible")),jQuery("#loaninterest").val(fa),ja.slider("value",jQuery("#loaninterest").val().replace(/[^\d\.]/g,"")),f=Math.abs(jQuery("#loaninterest").val()/12/100),Ma(),ea=e,v=n,w=h,da=Na()}for(jQuery("#loansummary-loanamount span").text(Globalize.format(ea,"n","en-IN")),jQuery("#loansummary-emi span").text(Globalize.format(v,"n2","en-IN")),jQuery("#loansummary-tenure span").text(Globalize.format(w,"n","en-IN")),jQuery("#loansummary-interestrate span").text(Globalize.format(fa,"n2","en-IN")),0==fa?(jQuery("#loansummary-totalinterest span").text(Globalize.format(0,"n","en-IN")),jQuery("#loansummary-totalamount span").text(Globalize.format(ea+ba,"n","en-IN"))):(jQuery("#loansummary-totalinterest span").text(Globalize.format(v*w-ea,"n","en-IN")),jQuery("#loansummary-totalamount span").text(Globalize.format(v*w+ba,"n","en-IN"))),jQuery("#loansummary-apr span").text(Globalize.format(da,"n2","en-IN")),ra=[],sa=[],ta=[],ua=[],psPaidToDate=[],y=[],va=[],wa=[],xa=[],psPaidToDateMonthly=[],y[0]=new Date(ca.c.getTime()),1==q?(wa[0]=0,va[0]=v):(wa[0]=e*f,va[0]=v-wa[0]),xa[0]=e-va[0],psPaidToDateMonthly[0]=(e-xa[0])/e*100,a=y[0].getFullYear(),t=0,ra[t++]=a,sa[a]=va[0],ta[a]=wa[0],ua[a]=xa[0],psPaidToDate[a]=psPaidToDateMonthly[0],i=1;i<h;i++)y[i]=new Date(y[i-1].getTime()),y[i].setMonth(y[i].getMonth()+1,1),wa[i]=xa[i-1]*f,va[i]=v-wa[i],xa[i]=xa[i-1]-va[i],psPaidToDateMonthly[i]=(e-xa[i])/e*100,y[i].getFullYear()!=a&&(a=y[i].getFullYear(),ra[t++]=a,sa[a]=0,ta[a]=0,ua[a]=0,psPaidToDate[a]=0),sa[a]+=va[i],ta[a]+=wa[i],ua[a]=xa[i],psPaidToDate[a]=psPaidToDateMonthly[i];xa[h-1]=0,ua[a]=0,psPaidToDateMonthly[h-1]=100,psPaidToDate[a]=100,Qa(),Ra(),Sa(),jQuery("#loancalculatorform").unmask()}function Oa(e,a,l){return a*e*Math.pow(1+e,l)/(Math.pow(1+e,l)-1)-n}function Pa(e,a,l){return a*(Math.pow(1+e,l)/(-1+Math.pow(1+e,l))-l*e*Math.pow(1+e,2*l-1)/Math.pow(-1+Math.pow(1+e,l),2)+l*e*Math.pow(1+e,-1+l)/(-1+Math.pow(1+e,l)))}function Ma(){v=0==f?Math.round(e/h*100)/100:1==q?Math.round(Math.pow(1+f,h-1)/(Math.pow(1+f,h)-1)*f*e*100)/100:Math.round(Math.pow(1+f,h)/(Math.pow(1+f,h)-1)*f*e*100)/100,jQuery("#loanemi").val(Globalize.format(v,"n2","en-IN")),la.slider("value",jQuery("#loanemi").val().replace(/[^\d\.]/g,"")),n=Math.abs(jQuery("#loanemi").val().replace(/[^\d\.]/g,""))}function Na(){if(1==q){var a=Math.pow(10,-5),l=.05/12;for(k=0;20>k;k++){var t=l;if(l=t-Oa(t,e-n-ba,h-1)/Pa(t,e-n-ba,h-1),(t=Math.abs(l-t))<a)break}a=Math.round(12e4*l)/100}else{for(a=Math.pow(10,-5),l=.05/12,k=0;20>k&&(t=l,l=t-Oa(t,e-ba,h)/Pa(t,e-ba,h),!((t=Math.abs(l-t))<a));k++);a=Math.round(12e4*l)/100}return a}function Ra(){var a=[],l=[],t=[],n=[],r=0;r=0;for(var o=ra.length;r<o;r++){var s=ra[r];a[r]=s,l[r]=sa[s],t[r]=ta[s],n[r]=ua[s]}new Highcharts.Chart({chart:{renderTo:"loanpaymentbarchart",backgroundColor:"transparent",plotBackgroundColor:"transparent",defaultSeriesType:"column",borderWidth:0,G:0,J:0},title:{text:""},xAxis:{categories:a,minorTickInterval:"auto",tickmarkPlacement:"on",labels:{rotation:-45,align:"right",step:8<ra.length?2:1,style:{font:"normal 9px Verdana, sans-serif"},formatter:function(){return this.value}}},yAxis:[{min:0,title:{text:"EMI Payment / year"},stackLabels:{enabled:!1,style:{fontWeight:"bold",color:Highcharts.theme&&Highcharts.theme.j||"gray"}},opposite:!0,labels:{formatter:function(){return"৳ "+Globalize.format(this.value,"n","en-IN")}}},{min:0,title:{text:"Balance"},stackLabels:{enabled:!1,style:{fontWeight:"bold",color:Highcharts.theme&&Highcharts.theme.j||"gray"}},labels:{formatter:function(){return"৳ "+Globalize.format(this.value,"n","en-IN")}}}],legend:{align:"center",itemMarginBottom:2,itemMarginTop:2,verticalAlign:"bottom",floating:!1,backgroundColor:"#EEEEEE",shadow:!1},tooltip:{formatter:function(){return"Balance"==this.series.name?"<b>Year: "+this.x+"</b><br/>"+this.series.name+" : ৳ "+Globalize.format(this.y,"n","en-IN")+"<br/>Loan Paid To Date : "+Globalize.format((e-this.y)/e*100,"n2","en-IN")+"%":"<b>Year : "+this.x+"</b><br/>"+this.series.name+" : ৳ "+Globalize.format(this.y,"n","en-IN")+"<br/>Total Payment : ৳ "+Globalize.format(this.point.stackTotal,"n","en-IN")}},plotOptions:{column:{borderWidth:0,stacking:"normal",dataLabels:{enabled:!1,color:Highcharts.theme&&Highcharts.theme.C||"white"}}},series:[{name:"Interest",data:t,yAxis:0,legendIndex:2,color:"#ED8C2B"},{name:"Principal",data:l,yAxis:0,legendIndex:1,color:"#88A825"},{name:"Balance",data:n,type:"spline",yAxis:1,legendIndex:3,color:"#B8204C"}]})}function Sa(){ha='<table><tr class="row no-margin"><th class="col-2 col-lg-1" id="yearheader">Year</th><th class="col-sm-2 d-none d-sm-table-cell" id="principalheader">Principal<br/>(A)</th><th class="col-3 d-table-cell d-sm-none" id="principalheader">Principal</th><th class="col-sm-2 d-none d-sm-table-cell" id="interestheader">Interest<br/>(B)</th><th class="col-3 d-table-cell d-sm-none" id="interestheader">Interest</th><th class="col-sm-3 d-none d-sm-table-cell" id="totalheader">Total Payment<br/>(A + B)</th><th class="col-4 col-sm-3" id="balanceheader">Balance</th><th class="col-lg-1 d-none d-lg-table-cell" id="paidtodateheader">Loan Paid To Date</th></tr>';for(var e=0,a=0,l=ra.length;a<l;a++){var t=ra[a];ha+='<tr class="row no-margin yearlypaymentdetails"><td id="year'+t+'" class="col-2 col-lg-1 paymentyear toggle">'+t+'</td><td class="col-3 col-sm-2 currency">৳ '+Globalize.format(sa[t],"n2","en-IN")+'</td><td class="col-3 col-sm-2 currency">৳ '+Globalize.format(ta[t],"n2","en-IN")+'</td><td class="col-sm-3 d-none d-sm-table-cell currency">৳ '+Globalize.format(sa[t]+ta[t],"n2","en-IN")+'</td><td class="col-4 col-sm-3 currency">৳ '+Globalize.format(ua[t],"n2","en-IN")+'</td><td class="col-lg-1 d-none d-lg-table-cell paidtodateyear">'+Globalize.format(psPaidToDate[t],"n2","en-IN")+"%</td></tr>",ha+='<tr id="monthyear'+t+'" class="row no-margin monthlypaymentdetails"><td class="col-12 monthyearwrapper" colspan="6"><div class="monthlypaymentcontainer"><table>';for(var n=y.length;e<n&&y[e].getFullYear()==t;)ha+='<tr class="row no-margin"><td class="col-2 col-lg-1 paymentmonthyear">'+ya[y[e].getMonth()]+'</td><td class="col-3 col-sm-2 currency">৳ '+Globalize.format(va[e],"n2","en-IN")+'</td><td class="col-3 col-sm-2 currency">৳ '+Globalize.format(wa[e],"n2","en-IN")+'</td><td class="col-sm-3 d-none d-sm-table-cell currency">৳ '+Globalize.format(va[e]+wa[e],"n2","en-IN")+'</td><td class="col-4 col-sm-3 currency">৳ '+Globalize.format(xa[e],"n2","en-IN")+'</td><td class="col-lg-1 d-none d-lg-table-cell paidtodatemonthyear">'+Globalize.format(psPaidToDateMonthly[e++],"n2","en-IN")+"%</td></tr>";ha+="</table></div></td></tr>"}ha+="</table>",jQuery("#loanpaymenttable").html(ha),jQuery("#loanpaymenttable tr.monthlypaymentdetails").find("div").hide(),jQuery("#loanpaymenttable td.toggle").click(function(){var e=jQuery(this).attr("id");jQuery(this).toggleClass("toggle-open"),jQuery("tr#month"+e).find("div").slideToggle()})}function Qa(){new Highcharts.Chart({chart:{renderTo:"loansummary-piechart",plotBackgroundColor:null,borderWidth:null,plotBorderWidth:null,plotShadow:!1},title:{text:"Break-up of Total Payment"},tooltip:{formatter:function(){return"<b>"+this.point.name+": "+Math.round(100*this.percentage)/100+"%</b>"}},plotOptions:{pie:{borderWidth:0,allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,distance:10,color:"#333333",formatter:function(){return"<b>"+Math.round(100*this.percentage)/100+"%</b>"}},showInLegend:!0}},legend:{backgroundColor:"transparent",align:"center",verticalAlign:"bottom",floating:!1,itemMarginTop:1,itemMarginBottom:1},series:[{type:"pie",name:"Principal vs. Interest vs. Fees & Charges",data:[{name:"Principal",y:e,sliced:!0,selected:!0,color:"#88A825"},{name:"Interest",y:v*h-e,color:"#ED8C2B"},{name:"Fees & Charges",y:ba,color:"#CF4A30"}]}]})}var e,f,h,n,q,ba,ca={c:new Date},v,da,ea,w,fa,ha,x,ia,ja,ka,la,ma,na,oa,ra=[],sa=[],ta=[],ua=[],y=[],va=[],wa=[],xa=[],ya="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");jQuery(document).ready(function(){za("emi-calc"),Aa(),jQuery("#loanamount").unbind("change"),jQuery("#loaninterest").unbind("change"),jQuery("#loanterm").unbind("change"),jQuery("#loanemi").unbind("change"),jQuery("#loanfees").unbind("change"),jQuery("#loancalculatorform input[name='loantenure']").unbind("change"),jQuery("#loancalculatorform input[name='emischeme']").unbind("change");var e=jQuery("#loandata").val();if(""!=e){e=jQuery.parseJSON(decodeURIComponent(escape(Base64.decode(e)))),x=e.loancalc,za(x),Ba(e);var a=Math.abs(jQuery("#loanamount").val().replace(/[^\d\.]/g,"")),l=jQuery("#loaninterest").val(),t=jQuery("#loanterm").val(),n=jQuery("#loanemi").val(),r=jQuery("#loanfees").val(),o=0;"emiadvance"==jQuery("#loancalculatorform input[name='emischeme']:checked").val()&&(o=1),Ca(a,l,t,n,r,o),0<(selDate=e.loanstartdate).length&&(oa=selDate.substring(selDate.length-4,selDate.length),na=jQuery.inArray(selDate.substring(0,selDate.length-5),ya),jQuery("#startmonthyear").datepicker("setDate",new Date(oa,na,1)))}else Ca(1e6,10.75,60,21617.95,1e4,0);Da(),Ea(),Fa(),Ga(),Ha(),Ia(),Ja(),z()});
//# sourceMappingURL=loancalculator.js.map
